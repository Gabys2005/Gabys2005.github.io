<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<title>In-Game Televoting API - Gabys2005</title>
		<link rel="icon" type="image/png" href="/assets/logo.png" />
		<link rel="stylesheet" href="/style.css" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
			integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		/>
	</head>
	<body>
		<header>
			<a href="/televoting" class="backbutton"><i class="fa-solid fa-arrow-left"></i> Back</a>
			<h1>Televoting API documentation</h1>
		</header>

		<div class="event">
			<p>
				Tune in for exciting news and announcements from Gybasoft on 15&nbsp;September&nbsp;2024 at
				5&nbsp;pm&nbsp;CEST.
			</p>
			<a target="_blank" href="https://www.youtube.com/watch?v=KRP44Adz4dM"> Watch the event </a>
		</div>

		<br />

		<div class="steps fadein">
			<div class="step">
				<h2>Using the api</h2>
				<hr />
				<p>To use the api you simply just need to require the module located in the main televoting folder</p>
				<pre><span class="local">local</span> api = <span class="func">require</span>(<span class="func">workspace</span>.Televoting.API)</pre>
			</div>

			<div class="step">
				<h2>api:GetResults()</h2>
				<hr />
				<p>
					You can use <span class="code">api:GetResults()</span> to get the full results. The returned results
					will be sorted by points.
				</p>
				<pre><span class="local">local</span> results = api:GetResults()<br>
<span class="func">print</span>(results)<br><br>
Can return for example:<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;{name = <span class="string">"Option 1"</span>, points = <span class="number">5</span>},<br>
&nbsp;&nbsp;&nbsp;&nbsp;{name = <span class="string">"Option 2"</span>, points = <span class="number">2</span>}<br>
}</pre>
			</div>

			<div class="step">
				<h2>api:GetPointsFor(name)</h2>
				<hr />
				<p>
					You can use <span class="code">api:GetResults()</span> to get the amount of points a specific voting
					option got.
				</p>
				<pre><span class="local">local</span> points = api:GetPointsFor(<span class="string">"Option 2"</span>)<br>
<span class="func">print</span>(points)<br><br>
Can return for example:<br>
<span class="number">10</span></pre>
			</div>

			<div class="step">
				<h2>api:GetVotes(returnUsernames)</h2>
				<hr />
				<p>
					You can use <span class="code">api:GetVotes()</span> to get the all votes sent by players. The
					optional returnUsernames parameter can be set to true if you want the votes to also return the
					usernames and not only user ids.
				</p>
				<pre><span class="local">local</span> votes = api:GetVotes(<span class="func">true</span>)<br>
<span class="func">print</span>(votes)<br><br>
Can return for example:<br>
{<br>
&nbsp;&nbsp;&nbsp;&nbsp;{userid = <span class="number">147274250</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;username = <span class="string">"gabys2005"</span>,<br>
&nbsp;&nbsp;&nbsp;&nbsp;votes = {<span class="string">"Option 1"</span>, <span class="string">"Option 3"</span>}}<br>
}</pre>
			</div>

			<div class="step">
				<h2>api:GetVotesFor(name, returnUsernames)</h2>
				<hr />
				<p>
					You can use <span class="code">api:GetVotesFor()</span> to get the people that voted for this
					option. The optional returnUsernames parameter can be set to true to make the function return
					usernames instead of user ids.
				</p>
				<pre><span class="local">local</span> voted = api:GetVotesFor(<span class="string">"Option 2"</span>)<br>
<span class="func">print</span>(voted)<br><br>
Can return for example:<br>
- when the returnUsernames parameter is set to true:<br>
{<span class="string">"gabys2005"</span>, <span class="string">"builderman"</span>}<br><br>
- when the returnUsernames parameter is set to false:<br>
{<span class="number">147274250</span>, <span class="number">156</span>}</pre>
			</div>

			<div class="step">
				<h2>api:GetResultsString()</h2>
				<hr />
				<p>
					You can use <span class="code">api:GetVotesFor()</span> to get the string that shows up when you
					click the Generate button
				</p>
				<pre><span class="local">local</span> resultsString = api:GetResultsString()<br>
<span class="func">print</span>(resultsString)<br><br>
Can return for example:<br>
[[<span class="string">"Option 1"</span>,<span class="string">"Option 2"</span>,<span class="string">"Option 3"</span>],[<span class="string">"gabys2005"</span>,<span class="number">2</span>,<span class="number">3</span>]]</pre>
			</div>
		</div>
		<br />

		<br />
	</body>
</html>
